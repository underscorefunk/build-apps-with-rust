<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>HTML and the view! macro - Building Apps with Rust</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><div>Preface</div></li><li class="chapter-item expanded affix "><div>Acknowledgements</div></li><li class="chapter-item expanded affix "><div>About this Book</div></li><li class="chapter-item expanded affix "><div>About the Author</div></li><li class="chapter-item expanded affix "><div>If you get stuck</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Introductions</li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> Programming</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">1.1.</strong> What it is</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.2.</strong> Why it's worth it</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.3.</strong> Why it's hard</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.4.</strong> Programmer Thinking</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Languages</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">2.1.</strong> Meaning and Interpretation</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Architectures</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">3.1.</strong> How your computer works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.2.</strong> How the web works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.3.</strong> The frontend-backend divide</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Tools and Languages</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">4.1.</strong> Bash and the terminal</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.2.</strong> Rust</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.3.</strong> Trunk</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.4.</strong> Web browsers</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Hello World</li><li class="chapter-item expanded "><a href="setup_intro.html"><strong aria-hidden="true">5.</strong> Setup</a></li><li class="chapter-item expanded "><a href="html_intro.html"><strong aria-hidden="true">6.</strong> Intro to HTML</a></li><li class="chapter-item expanded "><a href="view_macro_html.html" class="active"><strong aria-hidden="true">7.</strong> HTML and the view! macro</a></li><li class="chapter-item expanded "><a href="leptos_component_intro.html"><strong aria-hidden="true">8.</strong> Intro to Leptos Components</a></li><li class="chapter-item expanded "><a href="view_macro_variables.html"><strong aria-hidden="true">9.</strong> Variables and the view! macro</a></li><li class="chapter-item expanded "><a href="leptos_component_properties.html"><strong aria-hidden="true">10.</strong> Leptos Component properties</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Building an Application</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Design Patterns and Application Structure</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Common Problems</li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Building Apps with Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="html-and-the-view-macro"><a class="header" href="#html-and-the-view-macro">HTML and the <code>view!</code> macro</a></h1>
<h2 id="what-we-know"><a class="header" href="#what-we-know">What we know</a></h2>
<ul>
<li>HTML is a specification for a domain specific language that is parsed by a web browser to render a web page</li>
<li>The web browser will do its best to render a page, ignoring or gracefully interpreting code in a page that doesn't match the HTML specification.</li>
<li>The <code>view!</code> macro accepts its arguments between curly braces <code>{}</code>, accepting a context <code>cx</code> and HTML like mark-up.</li>
</ul>
<h1 id="what-well-learn"><a class="header" href="#what-well-learn">What we'll learn</a></h1>
<ul>
<li>Creating custom components</li>
</ul>
<h1 id="where-were-at"><a class="header" href="#where-were-at">Where we're at</a></h1>
<p>Code from our <code>main.rs</code> looks like this:</p>
<pre><pre class="playground"><code class="language-rust">use leptos::*;  
  
fn main() {  
    mount_to_body(|cx| {  
        view! {  
            cx,  
            &lt;h1&gt;&quot;Hello, world!&quot;&lt;/h1&gt;  
        }  
    })  
}
</code></pre></pre>
<blockquote>
<p>We can see that after the context variable we have some HTML like text. If this were HTML, you'd have a heading that reads <strong>&quot;Hello, world!&quot;</strong> with the quotes displaying. However, this isn't pure HTML and the macro will process the template to remove the quotes.</p>
</blockquote>
<h2 id="view-macro-syntax"><a class="header" href="#view-macro-syntax"><code>View!</code> macro syntax</a></h2>
<p>The <a href="https://docs.rs/leptos/latest/leptos/macro.view.html">view! macro documentation</a> is very nicely detailed with details about it's basic and advanced syntax. It's a JSX like syntax. We'll slowly touch on all of the features as we continue to learn Rust and <code>Leptos</code>.</p>
<p>For now, the important thing to remember is that strings need to be quoted.</p>
<p>@todo, highlight that a view contains element markup and text nodes. That's it</p>
<h2 id="adding-more-to-a-view"><a class="header" href="#adding-more-to-a-view">Adding more to a view</a></h2>
<p>You can continue to add other html elements as if you were writing plain HTML. Line breaks and indentation will not break the syntax. HTML code often has a lot of line breaks or white space from code formatting. Web browsers will ignore this unless you specify that you want the white space retained. We won't go into that in this guide. Multiple space characters will get coalesced into a single space.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>view! {  
	cx,  
	&lt;h1&gt;&quot;Hello, world!&quot;&lt;/h1&gt;
	&lt;p id=&quot;NiceAffirmation&quot;&gt;&quot;
		I know things are hard, 
		but I think you're doing great!&quot;
	&lt;/p&gt;
}  
<span class="boring">}
</span></code></pre></pre>
<blockquote>
<p>Note that we have an id attribute set for the paragraph with a quoted value.</p>
</blockquote>
<h2 id="custom-elements"><a class="header" href="#custom-elements">Custom elements</a></h2>
<p>Recall that our Rust <code>view!</code> macro input is not actually HTML. It gets processed and converted into HTML. This gives us some extra freedom, like the ability to write our own custom elements in Rust with their own templates.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>view! {  
	cx,  
	&lt;h1&gt;&quot;Hello, world!&quot;&lt;/h1&gt;
	&lt;NiceAffirmation /&gt;
}  
<span class="boring">}
</span></code></pre></pre>
<p>The above code will be converted into the following HTML:</p>
<pre><code class="language-html">&lt;h1&gt;Hello, world!&lt;/h1&gt;
&lt;NiceAffirmation&gt;&lt;/NiceAffirmation&gt;
</code></pre>
<p>The browser doesn't know what to do with the tag <code>&lt;NiceAffirmation&gt;</code>, so it treates it as a generic element that doesn't do anything.</p>
<p>We can define a template for our &quot;NiceAffirmation&quot; component and have it render our as if the element existed in the HTML spec. In a sense, we can make up our own specification for our own application using domain specific component names, and then let <code>Leptos</code> handle the rest.</p>
<p>In <code>Leptos</code> we call custome elements <code>components</code></p>
<h2 id="registering-a-custom-element-with-a-component-function"><a class="header" href="#registering-a-custom-element-with-a-component-function">Registering a custom element with a component function</a></h2>
<p>You're probably already thinking, &quot;I can imagine how I would want to break my application down into small components which I can compose/combine together.&quot; Thankfully, <code>Leptos</code> makes that exceptionally easy to do.</p>
<p>We do this by writing a function that returns (or evaluates to) the result of a <code>view!</code> macro.</p>
<p>In the following example we're using a pseudo-HTML component tag (our <strong>Leptos component</strong> tag) <code>&lt;NiceAffirmation /&gt;</code>.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>view! {  
	cx,  
	&lt;h1&gt;&quot;Hello, world!&quot;&lt;/h1&gt;
	&lt;NiceAffirmation /&gt;
}  
<span class="boring">}
</span></code></pre></pre>
<p>When the macro runs and expands the code, it'll look for a function that can be used to replace the <code>&lt;NiceAffirmation&gt;</code> tag. Leptos is magical and will do this look up for us, calling that function and embedding the the correct template as a replacement for our <strong>Leptos component</strong> tag.</p>
<pre><pre class="playground"><code class="language-rust">
<span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[component]  
pub fn NiceAffirmation(cx: Scope) -&gt; Element {  
    view!{  
        cx,  
        &lt;p&gt;&quot;You look nice today.&quot;&lt;/p&gt;  
    }  
}
<span class="boring">}
</span></code></pre></pre>
<blockquote>
<p>The definition of the function that will handle template generation for <code>&lt;NiceAffirmation /&gt;</code></p>
</blockquote>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="html_intro.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="leptos_component_intro.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="html_intro.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="leptos_component_intro.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
