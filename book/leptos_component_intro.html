<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Intro - Building Apps with Rust</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> Preface</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Acknowledgements</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> About this Book</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> About the Author</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> If you get stuck or lose steam</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Introductions</li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Programming</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> What it is</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Why it's worth it</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.3.</strong> Why it's hard</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.4.</strong> Programmer Thinking</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Languages</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> Meaning and Interpretation</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Architectures</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> What is architecture</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.2.</strong> How your computer works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.3.</strong> How the web works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.4.</strong> The frontend-backend divide</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.5.</strong> General application architecture</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Tools and Languages</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">9.1.</strong> Bash and the terminal</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> Rust</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.3.</strong> Trunk</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.4.</strong> Web browsers</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Rust and Leptos</li><li class="chapter-item expanded "><a href="setup_intro.html"><strong aria-hidden="true">10.</strong> Setup</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Foundations</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="html_intro.html"><strong aria-hidden="true">11.1.</strong> Intro to HTML</a></li><li class="chapter-item expanded "><a href="view_macro_html.html"><strong aria-hidden="true">11.2.</strong> HTML and the view! macro</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.</strong> Architecture</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">12.1.</strong> Leptos Components - #[component]</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.2.</strong> Signals (reactive values) - create_signal</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">12.3.</strong> Effects (side effects) - create_effect</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.</strong> Leptos Components</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="leptos_component_intro.html" class="active"><strong aria-hidden="true">13.1.</strong> Intro</a></li><li class="chapter-item expanded "><a href="view_macro_variables.html"><strong aria-hidden="true">13.2.</strong> Variables and the view! macro</a></li><li class="chapter-item expanded "><a href="leptos_component_properties.html"><strong aria-hidden="true">13.3.</strong> Component properties</a></li><li class="chapter-item expanded "><a href="leptos_component_dynamic_content_separation.html"><strong aria-hidden="true">13.4.</strong> Component dynamic content separation</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.5.</strong> Loops and conditionas in components</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.</strong> Client Side</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">14.1.</strong> Events</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="leptos_component_logging_events.html"><strong aria-hidden="true">14.1.1.</strong> Witnessing events</a></li><li class="chapter-item expanded "><a href="leptos_component_update_from_event.html"><strong aria-hidden="true">14.1.2.</strong> Reacting to events with event handlers</a></li><li class="chapter-item expanded "><a href="event_handlers_as_props.html"><strong aria-hidden="true">14.1.3.</strong> Event handers as props</a></li><li class="chapter-item expanded "><a href="event_bubbling_and_signal_generics.html"><strong aria-hidden="true">14.1.4.</strong> Event Bubbling and Signal Generics</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.1.5.</strong> Preventing bubbling and default event behaviours </div></li><li class="chapter-item expanded "><a href="custom_events.html"><strong aria-hidden="true">14.1.6.</strong> Custom Events</a></li><li class="chapter-item expanded "><a href="custom_event_data.html"><strong aria-hidden="true">14.1.7.</strong> Custom Event Data</a></li><li class="chapter-item expanded "><a href="custom_event_module.html"><strong aria-hidden="true">14.1.8.</strong> Custom Event Module</a></li><li class="chapter-item expanded "><a href="custom_event_module_with_data.html"><strong aria-hidden="true">14.1.9.</strong> Custom Event Module with Data</a></li><li class="chapter-item expanded "><a href="custom_event_data_with_signals_and_effects.html"><strong aria-hidden="true">14.1.10.</strong> Custom Event Data with Signals and Effects</a></li><li class="chapter-item expanded "><a href="custom_event_data_with_signals_and_effects_part2.html"><strong aria-hidden="true">14.1.11.</strong> Custom Event Data with Signals and Effects - Part 2</a></li></ol></li><li class="chapter-item expanded "><a href="forms.html"><strong aria-hidden="true">14.2.</strong> Forms</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> Server Side Rendering - Traditional</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">15.1.</strong> Responding to URL requests with HTML</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.2.</strong> Responding to form Post actions with HTML</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.</strong> Server Side Rendering - Partial with Hydration</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.</strong> User Interfaces</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">17.1.</strong> Tables and Lists</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.2.</strong> Forms</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.3.</strong> Input Validation</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Building an Application</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Design Patterns and Application Structure</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Leptos Deep Dive</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Common Problems</li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Building Apps with Rust</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="what-we-know"><a class="header" href="#what-we-know">What we know</a></h1>
<ul>
<li>The <code>view!</code> macro has a body encapsulated by <code>{...}</code> with two components, the context/scope and the template, separated by a comma.</li>
<li>The <code>view!</code> macro can accept:
<ul>
<li>Quoted text</li>
<li><em>HTML element</em> tags, written in lower case</li>
<li><em>Custom web component</em> element tags, written in kebab-case (i.e. my-custom-component)</li>
<li><em>Leptos component</em> tags, written in PascalCase (i.e. MyCustomComponent)</li>
</ul>
</li>
<li>Leptos components only know what to render in place of their component tag if we provide a function with the same name as the component (in PascalCase), with <code>#[component]</code> on the line directly before the function's definition.</li>
<li>Rust's basic function syntax of <code>fn my_function_name(){}</code>.</li>
</ul>
<h1 id="what-well-learn"><a class="header" href="#what-well-learn">What we'll learn</a></h1>
<ul>
<li>Creating custom components</li>
<li>How components work</li>
</ul>
<h1 id="the-lesson"><a class="header" href="#the-lesson">The lesson</a></h1>
<p>In the previous lesson we presented the following code for a Leptos component, but we did not explain the code:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[component]  
fn NiceAffirmation(cx: Scope) -&gt; Element {  
    view!{  
        cx,  
        &lt;p&gt;&quot;You look nice today.&quot;&lt;/p&gt;  
    }  
}
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>Above we have a Leptos component (render function) which when called yield the result of a view! macro. Within the macro we have our standard two pieces, the context/scope, and the template mark-up.</p>
</blockquote>
<h3 id="breakdown"><a class="header" href="#breakdown">Breakdown</a></h3>
<h4 id="the-component-attribute-and-meta-programming"><a class="header" href="#the-component-attribute-and-meta-programming">The <code>#[component]</code> attribute and &quot;meta programming&quot;</a></h4>
<p>Rust makes use of a special attribute syntax which the compiler can use to process your source code before it's compiled. This is often called &quot;meta programming&quot; because part of our application is responsible for writing another part of our application.</p>
<p>Library authors include features like this so that users of the library can focus on writing domain specific code (code relating to the specific problem they're solving).</p>
<p>The effect of this is that we, the user of Leptos, only have to worry about writing a function that tells the application what the result of rendering a component yields (returns). What we don't have to worry about is writing the code to make sure the function is called if the component is used in other <code>view!</code> macros.</p>
<h4 id="function-definition-arguments-types-and-returns"><a class="header" href="#function-definition-arguments-types-and-returns">Function definition, arguments, types, and returns</a></h4>
<p>The following line in our code is a function definition:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn NiceAffirmation(cx: Scope) -&gt; Element {  
<span class="boring">}</span></code></pre></pre>
<p>It defines the idea of doing some work with a noun (the function's name) so that we can refer to it in the context of our application.  This idea of, &quot;we know nothing until we define it,&quot; is an important concept in communication in general but especially so in programming.</p>
<h5 id="breaking-down-the-function-definition"><a class="header" href="#breaking-down-the-function-definition">Breaking down the function definition</a></h5>
<p><code>fn</code> - The definition starts with this keyword which is an abbreviation for function. It tells the compiler that we're about to define a term for a process/task that can be done (called).</p>
<p><code>NiceAffirmation</code> - The name of the function in PascalCase. This name allows us to refer to the function so that if we say, &quot;Hey computer, do NiceAffirmation,&quot; it'll know where to look up what that means. It is important to note that standard function naming in Rust is written with snake_case, all lowercase letters with words separted by underscores. Leptos components use PascalCase so that the function responsible for rendering a component will match its tag name. <em>This deviates from standard Rust convention</em></p>
<p><code>(...)</code> - Some tasks require additional &quot;things&quot; for the task to be carried out. I use the term things because the requirements can be varied. Some tasks may require specialized tools (other tasks/processes), some tasks may require something to be worked upon (a subject), and some tasks require anciliary information that act as a reference (reference data). Parenthesis after the function name encapsulates this required data. These are called <strong>function parameters</strong> and they are written out separated by a comma. The values passed into these parameteres are called <strong>function arguments</strong>.</p>
<p><code>cx: Scope</code> - Each parameter listend between  <code>(</code>and <code>)</code> in a function's definition are written using a name that we can use to refer to it when doing  the work in the body of the function and the classification of what it is (it's type). The parameter name exemplified here as <code>cx</code> is written in snake_case and the type, written here as <code>Scope</code> is written in PascalCase. This helps disambiguate the two. <strong>Rust requires us to know the type of everything!</strong> But when you think about it, this makes complete sense. For example, imagine if we described a task called <code>paint_fruit_still_life</code>. To do this work we need an artist who must be a Painter, and a subject to paint which must be Fruit. It's important to note that we're just making this stuff up. We're describing the interaction of data to the application. Programming is often about setting up relationships. We would also want to guarantee that we always expect the result of this task to be a Painting. <em>It is up to us to define what it means to be a Painter, what Fruits are, and what a Painting is!</em> A definition for this could look like <code>fn paint_fruit_still_life( artist: Painter, subject: Fruits) -&gt; Painting {}</code>.  In case of Leptos components, the first thing we're accepting is the runtime context which we give the name <code>cx</code> which is of the type <code>Scope</code>. Scope is defined by Leptos and brough into the context of our application with the previously described <code>use leptos::*</code> (include all <code>*</code>) use statement.</p>
<blockquote>
<p>It's kind of fun to think about how much we imply these types in real life. If any of you have interacted with kids you can witness first hand how important it is to define the nouns we use and be clear about expectations.</p>
</blockquote>
<p><code>-&gt; Element</code> - The thin arrow followed by the name of a type indicates the result of running a function or doing a task. In the case of our Leptos component, the return type is an Element. This type is defined by Leptos and imported by our previously described <code>use leptos::*</code> (include all <code>*</code>) use statement. Some functions may not have this if they do not return anything as the result of doing their work.</p>
<h4 id="function-body-and-expressions"><a class="header" href="#function-body-and-expressions">Function body and expressions</a></h4>
<p>The body of a function is encapsulated by curly braces.<code>{...}</code>.  This is a scope. What happens in the scope, stays in the scope. A function will return the result of evaluating the last statement of its function body. You can think of statements like sentences, only the end with semicolons. This means that the last statement without a semicolon acts as the 'final word' for what a function yields. This is why the <code>view!</code> macro in our example does not have a semicolon at the end. The function runs, the last expression is the view! macro, which when evaluated yields an Element. Rust allows you to cut your application short by placing the <code>return</code> keyboard before a statement as well.</p>
<h1 id="what-we-learned"><a class="header" href="#what-we-learned">What we learned</a></h1>
<p>By defining the following function with the <code>#[component]</code> annotation, we can tell Leptos how to render specific HTML in place of a Leptos component tag in other <code>view!</code> macro's templates.</p>
<pre><pre class="playground"><code class="language-rust">use leptos::*;

fn main() {  
    mount_to_body(|cx| {  
        view! {  
            cx,  
            &lt;NiceAffirmation /&gt;  
        }  
    })  
}

#[component]  
fn NiceAffirmation(cx: Scope) -&gt; Element {  
    view!{  
        cx,  
        &lt;p&gt;&quot;You look nice today.&quot;&lt;/p&gt;  
    }  
}</code></pre></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="view_macro_html.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="view_macro_variables.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="view_macro_html.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="view_macro_variables.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
