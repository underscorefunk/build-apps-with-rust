<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Setup - Building Apps with Rust</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Preamble</li><li class="chapter-item expanded "><a href="../read_me_first.html"><strong aria-hidden="true">1.</strong> Notice to Reader</a></li><li class="chapter-item expanded "><a href="../preface.html"><strong aria-hidden="true">2.</strong> Preface</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Acknowledgements</div></li><li class="chapter-item expanded "><a href="../about.html"><strong aria-hidden="true">4.</strong> About this Book</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> About the Author</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> If you get stuck or lose steam</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Introductions</li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Programming</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> What it is</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> Why it's worth it</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.3.</strong> Why it's hard</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.4.</strong> Programmer Thinking</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Languages</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Meaning and Interpretation</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Architectures</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">9.1.</strong> What is architecture</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> How your computer works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.3.</strong> How the web works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.4.</strong> The frontend-backend divide</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.5.</strong> General application architecture</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.6.</strong> Trade-offs between WASM and JavaScript</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Tools and Languages</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">10.1.</strong> Web browsers</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.2.</strong> HTML</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.3.</strong> Bash and the terminal</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.4.</strong> Rust</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.5.</strong> Trunk</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.6.</strong> Cargo Leptos</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Other Resources</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../intro/other_resources/rust.html"><strong aria-hidden="true">11.1.</strong> Rust</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Getting Started with Rust and Leptos</li><li class="chapter-item expanded "><a href="../getting_started/setup.html" class="active"><strong aria-hidden="true">12.</strong> Setup</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.</strong> Architecture</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">13.1.</strong> Leptos Components - #[component]</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.2.</strong> Signals (reactive values) - create_signal</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.3.</strong> Effects (side effects) - create_effect</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Generting UI</li><li class="chapter-item expanded "><a href="../client/summary.html"><strong aria-hidden="true">14.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../getting_started/html_intro.html"><strong aria-hidden="true">14.1.</strong> HTML</a></li><li class="chapter-item expanded "><a href="../getting_started/view_macro_html.html"><strong aria-hidden="true">14.2.</strong> HTML and the view! macro</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> Setup</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">15.1.</strong> Trunk</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.</strong> Introspection and Debugging</div></li><li class="chapter-item expanded "><a href="../ui/leptos_component_intro.html"><strong aria-hidden="true">17.</strong> Introduction to Leptos components</a></li><li class="chapter-item expanded "><a href="../ui/view_macro_variables.html"><strong aria-hidden="true">18.</strong> Variables and the view! macro</a></li><li class="chapter-item expanded "><a href="../ui/leptos_component_properties.html"><strong aria-hidden="true">19.</strong> Component properties</a></li><li class="chapter-item expanded "><a href="../ui/leptos_component_dynamic_content_separation.html"><strong aria-hidden="true">20.</strong> Component dynamic content separation</a></li><li class="chapter-item expanded "><a href="../ui/loops_and_the_for_view_macro_tag.html"><strong aria-hidden="true">21.</strong> Loops and the &lt;For /&gt; view! macro tag</a></li><li class="chapter-item expanded "><a href="../ui/conditional_display_and_the_show_macro.html"><strong aria-hidden="true">22.</strong> Conditional display and the &lt;Show&gt; view! macro tag</a></li><li class="chapter-item expanded "><a href="../ui/tables_and_data_sets.html"><strong aria-hidden="true">23.</strong> Tables and data sets</a></li><li class="chapter-item expanded "><a href="../ui/reserved_tags.html"><strong aria-hidden="true">24.</strong> Reserved Tags</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Client Side</li><li class="chapter-item expanded "><a href="../client/summary.html"><strong aria-hidden="true">25.</strong> Introduction</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">26.</strong> Setup</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">26.1.</strong> Trunk</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">27.</strong> Introspection and Debugging</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">28.</strong> Responding to Events</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../client/responding/leptos_component_logging_events.html"><strong aria-hidden="true">28.1.</strong> Witnessing events</a></li><li class="chapter-item expanded "><a href="../client/responding/leptos_component_update_from_event.html"><strong aria-hidden="true">28.2.</strong> Reacting to events with event handlers</a></li><li class="chapter-item expanded "><a href="../client/responding/event_handlers_as_props.html"><strong aria-hidden="true">28.3.</strong> Event handers as props</a></li><li class="chapter-item expanded "><a href="../client/responding/event_bubbling_and_signal_generics.html"><strong aria-hidden="true">28.4.</strong> Event Bubbling and Signal Generics</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">28.5.</strong> Preventing bubbling and default event behaviours </div></li><li class="chapter-item expanded "><a href="../client/responding/custom_events.html"><strong aria-hidden="true">28.6.</strong> Custom Events</a></li><li class="chapter-item expanded "><a href="../client/responding/custom_event_data.html"><strong aria-hidden="true">28.7.</strong> Custom Event Data</a></li><li class="chapter-item expanded "><a href="../client/responding/custom_event_module.html"><strong aria-hidden="true">28.8.</strong> Custom Event Module</a></li><li class="chapter-item expanded "><a href="../client/responding/custom_event_module_with_data.html"><strong aria-hidden="true">28.9.</strong> Custom Event Module with Data</a></li><li class="chapter-item expanded "><a href="../client/responding/custom_event_data_with_signals_and_effects.html"><strong aria-hidden="true">28.10.</strong> Custom Event Data with Signals and Effects</a></li><li class="chapter-item expanded "><a href="../client/responding/custom_event_data_with_signals_and_effects_part2.html"><strong aria-hidden="true">28.11.</strong> Custom Event Data with Signals and Effects - Part 2</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">29.</strong> Sending Data</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../client/responding/forms.html"><strong aria-hidden="true">29.1.</strong> Forms</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">29.2.</strong> Acton Forms</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">30.</strong> Sending and Receiving Data</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">30.1.</strong> Fetch</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">30.2.</strong> Web Socket</div></li></ol></li><li class="chapter-item expanded "><a href="../client/store_data/summary.html"><strong aria-hidden="true">31.</strong> Saving/Persisting Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../client/store_data/web_storage.html"><strong aria-hidden="true">31.1.</strong> Local Storage</a></li><li class="chapter-item expanded "><a href="../client/store_data/cookies.html"><strong aria-hidden="true">31.2.</strong> Cookies</a></li><li class="chapter-item expanded "><a href="../client/store_data/indexeddb.html"><strong aria-hidden="true">31.3.</strong> IndexedDB</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Server Side</li><li class="chapter-item expanded "><a href="../server/summary.html"><strong aria-hidden="true">32.</strong> Introduction</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">33.</strong> Setup</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../server/cargo_leptos/summary.html"><strong aria-hidden="true">33.1.</strong> Cargo Leptos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../server/cargo_leptos/setup.html"><strong aria-hidden="true">33.1.1.</strong> Setup</a></li><li class="chapter-item expanded "><a href="../file_structure.html"><strong aria-hidden="true">33.1.2.</strong> File Structure</a></li><li class="chapter-item expanded "><a href="../config.html"><strong aria-hidden="true">33.1.3.</strong> Config</a></li><li class="chapter-item expanded "><a href="../overview_main.html"><strong aria-hidden="true">33.1.4.</strong> Server Initialization and Main.rs</a></li><li class="chapter-item expanded "><a href="../overview_app.html"><strong aria-hidden="true">33.1.5.</strong> Leptos app main component and app.rs</a></li><li class="chapter-item expanded "><a href="../leptos_meta.html"><strong aria-hidden="true">33.1.6.</strong> Leptos_meta</a></li><li class="chapter-item expanded "><a href="../leptos_router.html"><strong aria-hidden="true">33.1.7.</strong> Leptos_router</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">34.</strong> Introspection and Debugging</div></li><li class="chapter-item expanded "><a href="../server/responding.html"><strong aria-hidden="true">35.</strong> Responding to Requests</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">35.1.</strong> Headers</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">35.2.</strong> Cookies</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">35.3.</strong> Body</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">36.</strong> Responding to Requests</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../server/responding/accessing_request_data.html"><strong aria-hidden="true">36.1.</strong> Accessing Request Data</a></li><li class="chapter-item expanded "><a href="../se.html"><strong aria-hidden="true">36.2.</strong> Server Functions</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">36.2.1.</strong> HTML</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">36.2.2.</strong> Data / API Endpoints</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">36.3.</strong> Server Actions</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">36.4.</strong> Form Actions</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.</strong> Client Server Communication</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../server/server_client_communication/server_functions.html"><strong aria-hidden="true">37.1.</strong> Server Functions</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">38.</strong> Sending Data</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">38.1.</strong> Cookies</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">39.</strong> Sending and Receiving Data</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">39.1.</strong> Web Sockets</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">40.</strong> Saving/Persisting Data</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Deployment</li><li class="chapter-item expanded "><div><strong aria-hidden="true">41.</strong> Render.com</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">42.</strong> Fly.io</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">43.</strong> Cloudflare Workers</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Desktop Applications</li><li class="chapter-item expanded "><div><strong aria-hidden="true">44.</strong> Tauri</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Tutorial Projects</li><li class="chapter-item expanded "><a href="../tutorial_projects/initiative_tracker/summary.html"><strong aria-hidden="true">45.</strong> RPG Initiative Tracker</a></li><li class="chapter-item expanded "><a href="../tutorial_projects/chat/summary.html"><strong aria-hidden="true">46.</strong> Chat</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Quick Reference</li><li class="chapter-item expanded "><a href="../quick_reference/rust/structuring_applictions.html"><strong aria-hidden="true">47.</strong> Structuring Applications</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Recipes</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Appendix</li><li class="chapter-item expanded "><div><strong aria-hidden="true">48.</strong> Common Application Behaviours</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">48.1.</strong> Form Validation</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">49.</strong> Common Design Patterns</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">49.1.</strong> Event Sourcing</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">50.</strong> Common Problems and Concerns</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">50.1.</strong> Quality</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">50.1.1.</strong> UI Response Time</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">50.1.2.</strong> Bundle Size</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">50.1.3.</strong> Partial Hydration</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">50.2.</strong> Consistency</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">50.2.1.</strong> Offline Support and Data Sync</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">50.2.2.</strong> Observability and Logging</div></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Building Apps with Rust</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <ol>
<li>Install Rust</li>
<li>Using up-to-date versions of rustc with <code>Nightly</code></li>
<li>Using up-to-date versions of Leptos from git</li>
</ol>
<hr />
<h3 id="1-install-rust"><a class="header" href="#1-install-rust">1. Install Rust</a></h3>
<p>Detail instructions on how to install Rust for your computer can be found here: https://www.rust-lang.org/tools/install</p>
<p>Installing rust will add a few things to your system.</p>
<ol>
<li>rustc - the rust compiler</li>
<li>rustup - a tool for managing rustc and the rust toolchain (https://rustup.rs)</li>
<li>cargo - the package manager and helper tool for rust (https://doc.rust-lang.org/stable/cargo/)</li>
</ol>
<h3 id="2-using-up-to-date-versions-of-rustc-with-nightly"><a class="header" href="#2-using-up-to-date-versions-of-rustc-with-nightly">2. Using up-to-date versions of rustc with <code>Nightly</code></a></h3>
<p>rustc is the rust compiler. It's possible to run different versions of the compiler. The Rust<br />
community is always working away adding new features. These new features are available<br />
immediately through nightly builds. Leptos, being brand new, makes use of some of these new<br />
features and currently requires <code>nightly</code> to run.</p>
<p>To confirm that you're using the <code>nightly</code> build of rustc (the rust compiler), open your<br />
shell/terminal and run the following command:</p>
<pre><code class="language-bash">rustc -V  
</code></pre>
<p>It should output something like this with 'nightly' in it:</p>
<pre><code class="language-bash">rustc 1.67.0-nightly (e631891f7 2022-11-13)  
</code></pre>
<p>If your version isn't the nightly build, run the following shell/terminal command:</p>
<pre><code class="language-bash">rustup default nightly  
</code></pre>
<p>Rustup is used to manage rustc. By calling the above, rustc is updated to us the nightly build<br />
as its default. You can change this to stable by using the following shell/terminal command:</p>
<pre><code class="language-bash">rustup default stable  
</code></pre>
<h3 id="3-using-up-to-date-versions-of-leptos-from-git"><a class="header" href="#3-using-up-to-date-versions-of-leptos-from-git">3. Using up-to-date versions of Leptos from git</a></h3>
<p>Leptos is changing all the time as well. It's recommended to grab the latest version directly<br />
from their git repository instead of from crates.io (https://crates.io/crates/leptos).</p>
<p>I'll go into detail on exactly how to do this when we start building our app. Don't stress if<br />
the following looks unfamiliar.</p>
<pre><code class="language-toml">[dependencies]  
leptos = { git = &quot;https://github.com/gbj/leptos&quot; }  
</code></pre>
<hr />
<h2 id="creating-your-first-app"><a class="header" href="#creating-your-first-app">Creating your first app</a></h2>
<ol>
<li>Using cargo to create a new rust app</li>
<li>Running your first rust app</li>
<li>Adding Leptos to your application as a dependency</li>
<li>Adding index.html to your application</li>
<li>Serving your index.html and bundling WASM with trunk</li>
<li>Updating client side HTML using Leptos</li>
</ol>
<hr />
<h3 id="1-using-cargo-to-create-a-new-rust-app-cargo-new"><a class="header" href="#1-using-cargo-to-create-a-new-rust-app-cargo-new">1. Using cargo to create a new rust app (<code>cargo new</code>)</a></h3>
<p>New rust projects are created with the following terminal command:</p>
<p>I'm calling my project <code>tut-leptos-client-side-event</code>, keeping in mind thst we're testing out how to handle a simple client side event.</p>
<pre><code class="language-bash">cargo new tut-leptos-client-side-event  
</code></pre>
<blockquote>
<p><strong>Did you know?</strong><br />
Cargo new will create the new project in your current working directory. You  can add path specifications to the application name to change where it's scafolded to. For example, <code>cargo new ~/dev/my-new-app</code> will create a new rust app in the <code>dev</code> directory inside your <code>~/</code> use home directory. If you see <code>~/</code> know that it's a shorthand for your user<br />
home. On OSX that would be <code>/Users/your-user-name</code>.</p>
</blockquote>
<p>When <code>cargo</code> runs with the <code>new</code> command, it creates the folder <code>tut-leptos-client-side-event</code>.</p>
<p>This folder gets setup with a few important things.</p>
<ol>
<li>A <code>src</code> directory that will contain all of our source code</li>
<li>A <code>src\main.rs</code> file, which contains our main function which is our <code>app</code>. This is called to<br />
tart our application and everything is run by calling code inside of it.</li>
<li>A <code>cargo.toml</code> file which contains meta data about our app, and it's dependences.</li>
<li>A <code>target</code> directory that will contain compiled data of our app. Ignore this folder for now.</li>
</ol>
<h3 id="2-running-your-first-rust-app-cargo-run"><a class="header" href="#2-running-your-first-rust-app-cargo-run">2. Running your first rust app (<code>cargo run</code>)</a></h3>
<p>Recall that we just made a new app with <code>cargo new tut-leptos-client-side-event</code>. Now we want to run it! Using the termninal/shell command <code>cargo run</code> will compile and run our app. Entering this terminal/shell command will not work right away. You'll get an error message:</p>
<blockquote>
<p>error: could not find <code>Cargo.toml</code> in ` ....... or any parent directory</p>
</blockquote>
<p>Cargo needs that cargo.toml file for context. It has information about which version of rust to compile for, which external bits of code (dependencies) need to be gathered to do the  compilation, and so forth.</p>
<p><code>C</code>hanging the <code>d</code>irectory of your <code>p</code>resent <code>w</code>orking <code>d</code>irectory to the directory created by <code>cargo new</code> will allow us to use the cargo.toml file for context, letting us compile the app.</p>
<blockquote>
<p><code>cd</code> – is the terminal/shell command for changing directory</p>
</blockquote>
<blockquote>
<p><code>pwd</code> – is the terminal/shell command for printing the present working directory</p>
</blockquote>
<p>The following list of commands need to be input individual, one line at a time. The first command changes the present working directory to our user home directory:</p>
<pre><code class="language-bash">cd ~/  
cargo new tut-leptos-client-side-event  
cd tut-leptos-client-side-event  
cargo run  
</code></pre>
<p>The application will take a brief period to compile and it'll print <code>Hello, world!</code> to your terminal/shell.</p>
<h3 id="3-adding-leptos-to-your-application-as-a-dependency"><a class="header" href="#3-adding-leptos-to-your-application-as-a-dependency">3. Adding Leptos to your application as a dependency</a></h3>
<p>We're going to add leptos to the mix as a dependency for our rust application.</p>
<p>First let's take a look at our stock <code>cargo.toml</code></p>
<pre><code class="language-toml">[package]  
name = &quot;tut-leptos-client-side-event&quot;  
version = &quot;0.1.0&quot;  
edition = &quot;2021&quot;  
  
# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html  
  
[dependencies]  
</code></pre>
<p>Note that we have no dependencies listed. All that exists is the heading <code>[dependencies]</code>.</p>
<p>Normally we'd use <code>cargo</code> to help us add dependencies. We'd need to call <code>cargo</code> in the<br />
context of our rust application's <code>cargo.toml</code> like we did with <code>cargo run</code>.</p>
<p>From within the <code>tut-leptos-client-side-event</code> folder we can call the following terminal/shell<br />
command:</p>
<pre><code class="language-bash">cargo add leptos  
</code></pre>
<p>Our <code>Cargo.toml</code> now includes the following:</p>
<pre><code class="language-cargo.toml">[dependencies]  
leptos = &quot;0.0.18&quot;  
</code></pre>
<p>In getting started we talked about using the git repository to grab the most up to date version of the dependency instead of the version published on crates.io (the rust package repository).</p>
<p>To do this we'll actually change the leptos entry to:</p>
<pre><code class="language-cargo.toml">leptos = { git = &quot;https://github.com/gbj/leptos&quot; }  
</code></pre>
<h3 id="4-adding-indexhtml"><a class="header" href="#4-adding-indexhtml">4. Adding index.html</a></h3>
<p>Our rust application will compile to wasm. That wasm will interact with a web page to create our client side experience. For this to work, we'll need to create an index.html.</p>
<p>Create this file in the root of your app, alongside cargo.toml. Your app directory should look like this:</p>
<pre><code>/tut-leptos-client-side-event  
	/src
		main.rs
	cargo.toml
	index.html
</code></pre>
<p>Inside the index.html should contain the following:</p>
<pre><code class="language-html">&lt;!DOCTYPE html&gt;  
&lt;html&gt;  
&lt;head&gt;  
    &lt;title&gt;Leptos App&lt;/title&gt;
	&lt;link data-trunk rel=&quot;rust&quot; data-wasm-opt=&quot;z&quot;/&gt;
&lt;/head&gt;  
&lt;body&gt;&lt;/body&gt;  
&lt;/html&gt;    
</code></pre>
<p>The important part of this is the following tag:</p>
<pre><code class="language-html">&lt;link data-trunk rel=&quot;rust&quot; data-wasm-opt=&quot;z&quot;/&gt;
</code></pre>
<p>A tool called <code>trunk</code> is going to eventually put all of these pieces together. The above <code>&lt;link&gt;</code> element will be replaced with rust application, compiled to wasm.</p>
<h3 id="4-serving-your-indexhtml-and-bundling-wasm-with-trunk"><a class="header" href="#4-serving-your-indexhtml-and-bundling-wasm-with-trunk">4. Serving your index.html and bundling WASM with trunk</a></h3>
<p>To use our application on the web, we need to serve it and bundle the WASM with the HTML.</p>
<p>We're going to use a tool called <code>trunk</code> which will do a few things:</p>
<ol>
<li>It'll serve index.html so that we can view it in our browser</li>
<li>It'll use <code>cargo</code> to compile the application to WASM</li>
<li>It'll attach the compiled WASM to our index.html, replacing <code>&lt;link data-trunk rel=&quot;rust&quot; data-wasm-opt=&quot;z&quot;/&gt;</code></li>
</ol>
<p>You will need to install the <code>trunk</code> tool. Instructions can be found here: https://trunkrs.dev/#install</p>
<p>For covenience, this will probably work:</p>
<pre><code class="language-shell">cargo install --locked trunk
</code></pre>
<p>To serve your app, use the following terminal/shell command while your application root is your present working directory:</p>
<pre><code class="language-shell">trunk serve
</code></pre>
<p>You'll see a variety of diagnostic information output to your prompt. The important line is this&quot;</p>
<pre><code class="language-shell">2022-11-26T15:40:19.251657Z  INFO 📡 serving static assets at -&gt; /
2022-11-26T15:40:19.251861Z  INFO 📡 server listening at http://127.0.0.1:8080
</code></pre>
<p>Listening at <code>127.0.0.1:8080</code> means that you can type that into your web browser to send a <strong>request</strong> to the server and it will provide the static files with your WASM bundled in (because it is a static file) back as the <strong>response</strong>.</p>
<p>You now have a web page!</p>
<h3 id="5-updating-client-side-html-using-leptos"><a class="header" href="#5-updating-client-side-html-using-leptos">5. Updating client side HTML using Leptos</a></h3>
<h4 id="51-understanding-mainrs"><a class="header" href="#51-understanding-mainrs">5.1 Understanding main.rs</a></h4>
<p>At this point we have a Rust application which compiles to WASM and we have a server running, listening at <code>127.0.0.1:8080</code> for requests, responding with our index.html and linked assets, most importantly our Rust application in WASM form.</p>
<p>What we don't have here is anything that updates our index.html or any form of interaction between our Rust application (WASM) and the DOM (Document Object Model — a name for the hierarchy of html elements/nodes) in the index.html.</p>
<p>We've addd leptos to our application as a dependency, and now we're going to put it to use.</p>
<p>If we look in our <code>src/main.rs</code> we can see the following:</p>
<pre><pre class="playground"><code class="language-rust">fn main() {  
    println!(&quot;Hello, world!&quot;);  
}</code></pre></pre>
<p>Here we have a function (using the keyword <code>fn</code>) with the name <code>main</code>.  The <code>(</code> and <code>)</code> are like bookends that encapsulate a functions <strong>parameters</strong> (buckets to hold arguments passed to them) and <strong>arguments</strong> (values assigned to the parameters when called) that the function might use to run. In this case, the main function doesn't require anything to run, so it has nothing between its parenthesis after the function name. The following set of curley braces <code>{</code> and <code>}</code> encapsulate the function body here. This is what will be evaluated when the function is run; the work being done. This is the most minimal example of a <strong>function signature</strong>. There are more things that can be added but we'll get into those later.</p>
<p>The body of the function contains a single expression. Expressions need to end with <code>;</code>. You can think of it as a terminator for the end of an instruction or step that you want the application to perform.</p>
<p>Let's look at the content of this line.</p>
<p>We have <code>println!(&quot;Hello, world!&quot;);</code></p>
<p>We can look at this as <code>some-command</code>(<code>some-arguments</code>)<code>end</code></p>
<p>The command is <code>println!</code>, the argument is a sequence of characters wrapped by quotes as a convenient way to tell the compiler that you mean the characters and not other commands or variables, and an end of expression character <code>;</code> semicolon.</p>
<p>The command <code>println!</code> is provided by Rust's standard library for you to use to output text to the terminal. If you run your application you'll see <code>Hello, world!</code>, and this is why.</p>
<blockquote>
<p>Important: We've glossed over how to write your own functions with parameters. We've also skipped over how to write functions that return values. Don't worry, we'll cover that when appropriate.</p>
</blockquote>
<h5 id="macros"><a class="header" href="#macros">Macros</a></h5>
<p>We saw before that the main function is written as <code>fn main(){}</code>. There is no <code>!</code> after <code>main</code>. But there is a <code>!</code> after <code>println!</code>.</p>
<p>The <code>!</code> indicates that command is a macro. Macros are like code snippits or code templates that get expanded by the Rust compiler before it's final compilation.</p>
<p>There are function like macros, which use <code>()</code> to encapsulate their argumens. There are also procedural macros, which use <code>{}</code> to encapsulate a body of code which gets consumed by the macro.</p>
<p>As you can imagine, there is a lot involved in actually printing something to the terminal, but we can ignore the complexity with things like <code>println!</code>.</p>
<p>Macros have parameters which you can pass arguments to, just like functions. Leptos makes extensive use of macros to make our lives easier. They're wonderful!</p>
<blockquote>
<p>Important: Macros have the ability to parse (read through to understand/process) their arguments differently from standard Rust code. Keep in mind that the macro author is usually trying to do things that make life easier for the developer using their macro. Sometimes this includes reduction of noisey syntax that would normally be required, or inferences that can be assumed.</p>
</blockquote>
<h4 id="52-updating-mainrs-to-use-leptos"><a class="header" href="#52-updating-mainrs-to-use-leptos">5.2 Updating main.rs to use Leptos</a></h4>
<p>Now that we understand how Rust functions work we can start to bring Leptos into our main.rs.</p>
<p>We do this by telling the compiler that we want to <code>use</code> leptos.
We've added <code>leptos</code> as a dependency in our cargo.toml, so it now exisgts is our 'application universe' as a thing.</p>
<p>But, it doesn't exist in our <code>main.rs</code> because we haven't brought it into scope yet. Bringing things into scope is like bringing things to a workbench or crafting table to use. You need those things at hand, where you're working, so that when you refer to them the compiler knows what you mean and has the bits of code to actually use.</p>
<p>When we write <code>use leptos::*;</code> at the top of our main.rs file, we're telling Rust, <code>use</code> and think called <code>leptos</code> which you should be aware of because we defined it in our cargo.toml, and bring ALL of it's pieces into scope for us to use. The <code>::</code> is a separator the same a slash is a separator for hierarchy in your computer's file system. The <code>*</code> refers to 'everything'.</p>
<p><code>use leptos::*;</code></p>
<p>reads as</p>
<p>use everything from leptos.</p>
<p>To visualize this, think of it as taking a box of tools called &quot;Leptos&quot; and dumping all of them out onn your work bench. You can now grab any one of them for use.</p>
<h4 id="53-updating-fn-main-to-interact-with-your-html"><a class="header" href="#53-updating-fn-main-to-interact-with-your-html">5.3 Updating fn main() to interact with your html</a></h4>
<p>In our main.rs we have a <code>fn main(){}</code>. Currently it prints &quot;Hello, world!&quot; to our standard out (terminal/console).</p>
<p>What we want to do is to change the HTML in index.html when the WASM loads, which is also when the <code>fn main()</code> runs.</p>
<p>We'll use a function called <code>mount_to_body</code>, which is provided as a tool in <code>leptos</code>, made available in this scope (this main.rs file) with the use statement.</p>
<pre><pre class="playground"><code class="language-rust">use leptos::*;

fn main() {
	mount_to_body()
}</code></pre></pre>
<p><code>mount_to_body</code> requires some arguments to run correctly.</p>
<p>Specifically, it requires a closure. It requires a value that is actually 'runable' or 'callable'.</p>
<h5 id="closures"><a class="header" href="#closures">Closures</a></h5>
<p>A closure is functionality as a <strong>first class citizen</strong>. This means that it's a function that can be stored as a value and passed around to be called later.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>fn print_hi(){
	println!(&quot;Hi&quot;);
}
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>A standard function definition.</p>
</blockquote>
<pre><pre class="playground"><code class="language-rust">fn main(){
	// let tells the compiler to assign
 	// the value of greeter to whatever is 
 	// after the = and before the semicolon.
	let greeter = || {
		println!(&quot;Hi&quot;);
	};
}</code></pre></pre>
<blockquote>
<p>Single line comments in Rust are prefixed by <code>//</code> at the beginning of the commend. These tell the compiler to ignore anything after it.</p>
</blockquote>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>|| {
	println!(&quot;Hi&quot;);
}
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>A closure</p>
</blockquote>
<p>The above closure syntax is like a function, but it doesn't have a name because we're expecting to assign the functionality to a name. Like we did with greeter above.</p>
<p>The parenthesis that normally encapsulate a functions arguments are converted to pipe characters to diambiguate the two. The body of the closure, just like the body of a function, is encapsulated by curly braces.</p>
<p>The following shows how a function and a closure can be called:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>print_hi(); // This was a function
greeter();  // This was a value `greeter`
<span class="boring">}</span></code></pre></pre>
<p>The coolest thing here is that we can see both <code>print_hi</code> and <code>greeter</code> are names that exist in or applications context. They're ideas. Both of them are callable. And we can call them by adding parenthesis at the end.</p>
<p>This starts to hint at some of the underlying simplicity of a lot of programming. At the end of the day, we're giving names to things so that we can specify to the computer, what is what. Then we evaluate or run a bit of functionality, and give the result a name so that we can do something else after. It's this over and over again, all the way down.</p>
<h5 id="using-mount_to_body"><a class="header" href="#using-mount_to_body">Using mount_to_body</a></h5>
<p>Recall that our application's main.rs looked like this</p>
<pre><pre class="playground"><code class="language-rust">use leptos::*;

fn main() {
	mount_to_body()
}</code></pre></pre>
<p>We have <code>mount_to_body</code> function being called when the application runs as WASM, when index.html is server with the WASM resource.</p>
<p>This function needs functionality to call. It needs a closure. We have the opportunity to tell it what to do with the assumption that when mount_to_body runs, it'll provide us the context in which it's running. This of this as a scope. We can make this assumption because mount_to_body specifies that it needs a closure that makes use of an argument, which we know to be context, abbreviated here as <code>cx</code>.</p>
<pre><pre class="playground"><code class="language-rust">use leptos::*;

fn main() {
	mount_to_body(|cx|{})
}</code></pre></pre>
<p>The above shows what an empty closure being passed to mount_to_body looks like. What this doesn't show is that the closure needs to return something that can be mounted.</p>
<p>If you ran the above you're probably receive an error like:</p>
<pre><code class="language-bash">T: Mountable, required by this bound in `leptos::mount_to_body`
</code></pre>
<p>The error messages will get easier to read over time, but it essentially says, &quot;The return type of the closure can't be used by the internals of mount_to_body. It was expecting something specific to come out of your instructions.&quot;</p>
<p>To solve this problem we're going to use the <code>view!</code> macro provided by leptos.</p>
<pre><pre class="playground"><code class="language-rust">use leptos::*;

fn main() {
	mount_to_body(|cx|{
		view! {  
	        cx,  
	        &lt;h1&gt;&quot;Hello, world!&quot;&lt;/h1&gt;  
	    }
	})
}</code></pre></pre>
<p>We've written the following in the body of the closure, being provided to <code>mount_to_body</code> as:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>view! {  
	cx,  
	&lt;h1&gt;
		&quot;Hello, world!&quot;
	&lt;/h1&gt;  
}
<span class="boring">}</span></code></pre></pre>
<p>This procedural macros <code>view!</code> has a body which starts with cx, the context that will be provided to it by mount_to_body when it's run (again, this is inside mount_to_body and evaluated at a later time) and the view or html to mount.</p>
<p>There must be one top level item and all text needs to be quoted. It's a JSX like syntax and beautifully streamlined to write.</p>
<p>If you had <code>trunk serve</code> running this whole time, you can visit http://127.0.0.1:8080 to see your &quot;Hello, world!&quot;</p>
<p>Or, make sure your present working directory is the root of your application, type <code>trunk serve</code> and visit http://127.0.0.1:8080 to see your first working leptos WASM client side awesomeness!</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../intro/other_resources/rust.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../client/summary.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../intro/other_resources/rust.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../client/summary.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
