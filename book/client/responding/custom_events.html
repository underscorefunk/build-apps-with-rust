<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Custom Events - Building Apps with Rust</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Preamble</li><li class="chapter-item expanded "><a href="../../read_me_first.html"><strong aria-hidden="true">1.</strong> Notice to Reader</a></li><li class="chapter-item expanded "><a href="../../preface.html"><strong aria-hidden="true">2.</strong> Preface</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Acknowledgements</div></li><li class="chapter-item expanded "><a href="../../about.html"><strong aria-hidden="true">4.</strong> About this Book</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> About the Author</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> If you get stuck or lose steam</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Introductions</li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Programming</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> What it is</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> Why it's worth it</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.3.</strong> Why it's hard</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.4.</strong> Programmer Thinking</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Languages</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Meaning and Interpretation</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Architectures</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">9.1.</strong> What is architecture</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> How your computer works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.3.</strong> How the web works</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.4.</strong> The frontend-backend divide</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.5.</strong> General application architecture</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.6.</strong> Trade-offs between WASM and JavaScript</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Tools and Languages</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">10.1.</strong> Web browsers</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.2.</strong> HTML</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.3.</strong> Bash and the terminal</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.4.</strong> Rust</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.5.</strong> Trunk</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.6.</strong> Cargo Leptos</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">11.</strong> Other Resources</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../intro/other_resources/rust.html"><strong aria-hidden="true">11.1.</strong> Rust</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Getting Started with Rust and Leptos</li><li class="chapter-item expanded "><a href="../../getting_started/setup.html"><strong aria-hidden="true">12.</strong> Setup</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.</strong> Architecture</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">13.1.</strong> Leptos Components - #[component]</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.2.</strong> Signals (reactive values) - create_signal</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">13.3.</strong> Effects (side effects) - create_effect</div></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Generting UI</li><li class="chapter-item expanded "><a href="../../client/summary.html"><strong aria-hidden="true">14.</strong> Introduction</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> Setup</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">15.1.</strong> Trunk</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.</strong> Introspection and Debugging</div></li><li class="chapter-item expanded "><a href="../../getting_started/html_intro.html"><strong aria-hidden="true">17.</strong> HTML</a></li><li class="chapter-item expanded "><a href="../../getting_started/view_macro_html.html"><strong aria-hidden="true">18.</strong> The view! macro</a></li><li class="chapter-item expanded "><a href="../../ui/leptos_component_intro.html"><strong aria-hidden="true">19.</strong> Leptos Components</a></li><li class="chapter-item expanded "><a href="../../ui/view_macro_variables.html"><strong aria-hidden="true">20.</strong> Variables and the view! macro</a></li><li class="chapter-item expanded "><a href="../../ui/leptos_component_properties.html"><strong aria-hidden="true">21.</strong> Component properties</a></li><li class="chapter-item expanded "><a href="../../ui/leptos_component_dynamic_content_separation.html"><strong aria-hidden="true">22.</strong> Component dynamic content separation</a></li><li class="chapter-item expanded "><a href="../../ui/loops_and_the_for_view_macro_tag.html"><strong aria-hidden="true">23.</strong> Loops and the &lt;For /&gt; view! macro tag</a></li><li class="chapter-item expanded "><a href="../../ui/conditional_display_and_the_show_macro.html"><strong aria-hidden="true">24.</strong> Conditional display and the &lt;Show&gt; view! macro tag</a></li><li class="chapter-item expanded "><a href="../../ui/tables_and_data_sets.html"><strong aria-hidden="true">25.</strong> Tables and data sets</a></li><li class="chapter-item expanded "><a href="../../ui/reserved_tags.html"><strong aria-hidden="true">26.</strong> Reserved Tags</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Client Side</li><li class="chapter-item expanded "><a href="../../client/summary.html"><strong aria-hidden="true">27.</strong> Introduction</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">28.</strong> Setup</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">28.1.</strong> Trunk</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">29.</strong> Introspection and Debugging</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">30.</strong> Responding to Events</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../client/responding/leptos_component_logging_events.html"><strong aria-hidden="true">30.1.</strong> Witnessing events</a></li><li class="chapter-item expanded "><a href="../../client/responding/leptos_component_update_from_event.html"><strong aria-hidden="true">30.2.</strong> Reacting to events with event handlers</a></li><li class="chapter-item expanded "><a href="../../client/responding/event_handlers_as_props.html"><strong aria-hidden="true">30.3.</strong> Event handers as props</a></li><li class="chapter-item expanded "><a href="../../client/responding/event_bubbling_and_signal_generics.html"><strong aria-hidden="true">30.4.</strong> Event Bubbling and Signal Generics</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">30.5.</strong> Preventing bubbling and default event behaviours </div></li><li class="chapter-item expanded "><a href="../../client/responding/custom_events.html" class="active"><strong aria-hidden="true">30.6.</strong> Custom Events</a></li><li class="chapter-item expanded "><a href="../../client/responding/custom_event_data.html"><strong aria-hidden="true">30.7.</strong> Custom Event Data</a></li><li class="chapter-item expanded "><a href="../../client/responding/custom_event_module.html"><strong aria-hidden="true">30.8.</strong> Custom Event Module</a></li><li class="chapter-item expanded "><a href="../../client/responding/custom_event_module_with_data.html"><strong aria-hidden="true">30.9.</strong> Custom Event Module with Data</a></li><li class="chapter-item expanded "><a href="../../client/responding/custom_event_data_with_signals_and_effects.html"><strong aria-hidden="true">30.10.</strong> Custom Event Data with Signals and Effects</a></li><li class="chapter-item expanded "><a href="../../client/responding/custom_event_data_with_signals_and_effects_part2.html"><strong aria-hidden="true">30.11.</strong> Custom Event Data with Signals and Effects - Part 2</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">31.</strong> Sending Data</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../client/responding/forms.html"><strong aria-hidden="true">31.1.</strong> Forms</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">31.2.</strong> Acton Forms</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">32.</strong> Sending and Receiving Data</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">32.1.</strong> Fetch</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">32.2.</strong> Web Socket</div></li></ol></li><li class="chapter-item expanded "><a href="../../client/store_data/summary.html"><strong aria-hidden="true">33.</strong> Saving/Persisting Data</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../client/store_data/web_storage.html"><strong aria-hidden="true">33.1.</strong> Local Storage</a></li><li class="chapter-item expanded "><a href="../../client/store_data/cookies.html"><strong aria-hidden="true">33.2.</strong> Cookies</a></li><li class="chapter-item expanded "><a href="../../client/store_data/indexeddb.html"><strong aria-hidden="true">33.3.</strong> IndexedDB</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><li class="part-title">Server Side</li><li class="chapter-item expanded "><a href="../../server/summary.html"><strong aria-hidden="true">34.</strong> Introduction</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">35.</strong> Setup</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../server/cargo_leptos/summary.html"><strong aria-hidden="true">35.1.</strong> Cargo Leptos</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../server/cargo_leptos/setup.html"><strong aria-hidden="true">35.1.1.</strong> Setup</a></li><li class="chapter-item expanded "><a href="../../server/cargo_leptos/file_structure.html"><strong aria-hidden="true">35.1.2.</strong> File Structure</a></li><li class="chapter-item expanded "><a href="../../server/cargo_leptos/config.html"><strong aria-hidden="true">35.1.3.</strong> Config</a></li><li class="chapter-item expanded "><a href="../../server/cargo_leptos/overview_main.html"><strong aria-hidden="true">35.1.4.</strong> Server Initialization and Main.rs</a></li><li class="chapter-item expanded "><a href="../../server/cargo_leptos/overview_app.html"><strong aria-hidden="true">35.1.5.</strong> Leptos app main component and app.rs</a></li><li class="chapter-item expanded "><a href="../../server/cargo_leptos/leptos_meta.html"><strong aria-hidden="true">35.1.6.</strong> Leptos_meta</a></li><li class="chapter-item expanded "><a href="../../server/cargo_leptos/leptos_router.html"><strong aria-hidden="true">35.1.7.</strong> Leptos_router</a></li></ol></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">36.</strong> Introspection and Debugging</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.</strong> Responding to Requests</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../server/responding/get_method_forms.html"><strong aria-hidden="true">37.1.</strong> Get Method Forms</a></li><li class="chapter-item expanded "><a href="../../server/responding/post_method_forms.html"><strong aria-hidden="true">37.2.</strong> Post Method Forms</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.3.</strong> Accessing Request Data</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.4.</strong> Responding Parts</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">37.4.1.</strong> Headers</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.4.2.</strong> Cookies</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.4.3.</strong> Body</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.5.</strong> HTML Requests - Routes</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.6.</strong> Data Requests - Server Functions</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">37.7.</strong> Behaviour Request - Server Actions</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">38.</strong> Client Server Communication</div></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../server/server_client_communication/server_functions.html"><strong aria-hidden="true">38.1.</strong> Server Functions</a></li><li class="chapter-item expanded "><a href="../../server/server_client_communication/transition.html"><strong aria-hidden="true">38.2.</strong> &lt;Transition&gt;</a></li><li class="chapter-item expanded "><a href="../../server/server_client_communication/action_form.html"><strong aria-hidden="true">38.3.</strong> &lt;ActionForm&gt;</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">38.4.</strong> Web Sockets</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">39.</strong> Saving/Persisting Data</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Architecture</li><li class="chapter-item expanded "><a href="../../architecture/scope_and_runtime.html"><strong aria-hidden="true">40.</strong> Scope and Runtime</a></li><li class="chapter-item expanded "><a href="../../architecture/passing_data_around.html"><strong aria-hidden="true">41.</strong> Passing data around</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Deployment</li><li class="chapter-item expanded "><div><strong aria-hidden="true">42.</strong> Render.com</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">43.</strong> Fly.io</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">44.</strong> Cloudflare Workers</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Desktop Applications</li><li class="chapter-item expanded "><div><strong aria-hidden="true">45.</strong> Tauri</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">46.</strong> TUI</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Tutorial Projects</li><li class="chapter-item expanded "><div><strong aria-hidden="true">47.</strong> Blog</div></li><li class="chapter-item expanded "><a href="../../tutorial_projects/initiative_tracker/summary.html"><strong aria-hidden="true">48.</strong> RPG Initiative Tracker</a></li><li class="chapter-item expanded "><a href="../../tutorial_projects/chat/summary.html"><strong aria-hidden="true">49.</strong> Chat</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Quick Reference</li><li class="chapter-item expanded "><a href="../../quick_reference/rust/structuring_applications.html"><strong aria-hidden="true">50.</strong> Structuring Applications</a></li><li class="chapter-item expanded "><a href="../../quick_reference/rust/documenting_applications.html"><strong aria-hidden="true">51.</strong> Documenting Applications</a></li><li class="chapter-item expanded "><a href="../../quick_reference/rust/testing_applications.html"><strong aria-hidden="true">52.</strong> Testing Applications</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Recipes</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Appendix</li><li class="chapter-item expanded "><div><strong aria-hidden="true">53.</strong> Common Application Behaviours</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">53.1.</strong> Form Validation</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">54.</strong> Common Design Patterns</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">54.1.</strong> Event Sourcing</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">55.</strong> Common Problems and Concerns</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">55.1.</strong> Quality</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">55.1.1.</strong> UI Response Time</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">55.1.2.</strong> Bundle Size</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">55.1.3.</strong> Partial Hydration</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">55.2.</strong> Consistency</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">55.2.1.</strong> Offline Support and Data Sync</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">55.2.2.</strong> Observability and Logging</div></li></ol></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Building Apps with Rust</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="custom-events"><a class="header" href="#custom-events">Custom Events</a></h1>
<h2 id="what-we-know"><a class="header" href="#what-we-know">What we know</a></h2>
<ul>
<li>One of the key ways applications change data over time is in response to stimulus. We can witness these changes through a browser's runtime through the browser's event system.</li>
</ul>
<h2 id="what-well-learn"><a class="header" href="#what-well-learn">What we'll learn</a></h2>
<ul>
<li>Which events exist and/or are supported</li>
<li>Create custom events</li>
<li>Tips on how to read Rust documentation</li>
<li>The dangers of complexity and trying to think about simplicity</li>
<li>An introduction to structs, data, instance methods, and static methods</li>
<li>An introduction to match statements</li>
<li>An introduction to Result types</li>
<li>An introduction to Option types</li>
<li>Creating DOM node references for Leptos components</li>
</ul>
<h2 id="the-lesson"><a class="header" href="#the-lesson">The Lesson</a></h2>
<p>There are some common events that you can probably intuitively guess. Going from pure intuition is only going to get you so far. </p>
<p>We frame the way we solve problems through the lense of the tools we have at hand. For this reason, it's a good idea to familiarize yourself with the HTML tags that exist and the web events that exist. The web platform has a ton of features that a lot of people don't know about because they stopped learning HTML at <code>&lt;div&gt;</code> and <code>&lt;p&gt;</code> tags.</p>
<p>The mozilla foundation has a wonderful website called MDN which contains invaluable reference to help expand your knowledge.</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML elements and reference</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/Events#event_listing">List of web events</a></li>
</ul>
<p>The List of web events will provide everything you need to know to respond to actions on elements which you can attach to your Leptos components.</p>
<h3 id="custom-events-1"><a class="header" href="#custom-events-1">Custom Events</a></h3>
<p>You may wish to create your own custom events. Custom events can be useful when you want to differentiate a generic behaviour in the web, from a specific behaviour or event in your application. </p>
<p>For example:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[component]  
fn MyLunchbox(cx: Scope) -&gt; Element {  
    let consume_sandwich = |_|{  
      // do something in response to  
      // the sandwich being eaten.
    };  
    view!{  
        cx,  
        &lt;Sandwich on:eat=consume_sandwich/&gt;  
    }  
}

#[component]  
fn Sandwich(cx: Scope) -&gt; Element {  
    let trigger_eating_event = |_|{  
      // Code that triggers the custom event
      // which will bubble up to from the 
      // botton to it's parent
    };  
    view!{  
        cx,  
        &lt;button on:click=trigger_eating_event/&gt;
	        I'm a snack
        &lt;/button&gt; 
    }  
}
<span class="boring">}</span></code></pre></pre>
<p>If we were to write this with standard events, we would need some more introspection and features of the platform start to leak up into higher levels of our application. This issue can be simplified as saying, knowledge of the application needs to span across the boundary of multiple components. More things to keep in your head makes programs harder to reason about, more difficult to extend/modify, and less clear to newcomers wishing to contribute to the application. Or, maybe you just came back from a vacation and forgot all about how sometihng worked. Ideally you shouldn't need to know how (which is imperative), being able to focus on what (which is declarative).</p>
<p>Ultimately we probably don't care if a click event triggered the sandwich to be eaten, or if it was a key press that triggered it. Maybe the button was focused and they hit the enter key. </p>
<p>This is my opinion but I would say that In some sense the custom event simplifies our application because we're handling the <em>what</em> of the event insted of the <em>how</em> (click, key press, etc). </p>
<p>In the following standard event example, MyLunchbox needs to be aware of which events might exist to bubbling up to it as clicks. The event handler needs to filter out the appropriate event, introspect the event (look inside of it), and then take the appropriate action. Imagine that our sandwich in our system has a special identifier. </p>
<p>We could should out, &quot;Eat #2&quot; which happens to be the sandwich, emitting an eat event with a payload (data assocaited with the event) that is the food's identifier in your lunchbox.</p>
<p>The standard event equivalent would, &quot;I'm doing a thing with my lunchbox stuff,&quot; requiring someone to then ask, &quot;Ok, so um... what are you doing? Are you trying to eat something? What are you trying to eat? Does it have an identifier? Can I get that identifier?&quot;</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[component]  
fn MyLunchbox(cx: Scope) -&gt; Element {  
    let maybe_consume_sandwich = |event|{  
      // Introspection may be required in more
      // complicated use cases to make sure the 
      // right event bubbled up to be handled
      // and that it has the correct data to be
      // able to follow through with the desired
      // application behaviour.
    };  
    view!{  
        cx,  
        &lt;Sandwich on:click=maybe_consume_sandwich/&gt;  
    }  
}

#[component]  
fn Sandwich(cx: Scope) -&gt; Element {  
    view!{  
        cx,  
        &lt;button on:click=trigger_eating_event/&gt;
	        I'm a snack
        &lt;/button&gt; 
    }  
}

<span class="boring">}</span></code></pre></pre>
<h4 id="caution-beware-complexity"><a class="header" href="#caution-beware-complexity">Caution: Beware complexity!</a></h4>
<p>It can be tempting to cut your application up into a ton of domain specific—specific to the problem you're solving with language appropriate to that problem—events, but that comes at a cost. You will lose some forms of flexibility as you add focus and specificity to your application. </p>
<p>In the standard event example, we do still have the ability to introspect the event when handling it in MyLunchbox. That might be really useful. If we needed some additional data with our custom event we'd need to go into the Sandwich component and include it.</p>
<p>And that's the thing with programming. It always depends.</p>
<p>I advocate for, favour simplicity and only cut things apart when they get too big to keep together. Some problems are inherently complicated because of the types of problems they are. Ideally you should be able to walk away from your program, come back, and understand what's happening. We can not rely on being in the flow state or &quot;zone&quot; as the required mode to understand what we wrote. I would say this is actually a liability. Besides, we should create applications that allow us to be interrupted by life without causing frustration. </p>
<h3 id="creating-a-custom-event"><a class="header" href="#creating-a-custom-event">Creating a custom event</a></h3>
<p>Creating a custom event normally happens in JavaScript, because it's part of the browser's runtime. The code looks like this:</p>
<pre><code class="language-javascript">
const event = new Event('build');

// Listen for the event.
elem.addEventListener('build', (e) =&gt; { /* … */ }, false);

// Dispatch the event.
elem.dispatchEvent(event);

</code></pre>
<blockquote>
<p>https://developer.mozilla.org/en-US/docs/Web/Events/Creating_and_triggering_events</p>
</blockquote>
<p>We need to do something similar in our Rust code. To do this we'll use the web_sys crate.</p>
<p>There is a struct in <code>web_sys</code> called <code>CustomEvent</code> <a href="https://docs.rs/web-sys/latest/web_sys/struct.CustomEvent.html#method.new">Docs</a></p>
<p>Let's go over some struct basics since we're going to e using them for this lesson and going forward.</p>
<h4 id="introduction-to-structs"><a class="header" href="#introduction-to-structs">Introduction to Structs</a></h4>
<p>A struct is like a class in a lot of object oriented languages. It is a category of <code>type</code> that has the ability to group data, functionality related to that data, and functionality related to its general idea, all around a single name. Recall that a <code>type</code> is the name that describes a set of possible values.</p>
<h5 id="struct-data"><a class="header" href="#struct-data">Struct data</a></h5>
<p>One of the key features of structs in Rust is that they specify a grouping of data types and values which we call properties. I suspect this is why they're called structs—structured data or data structure. If we had a Bacon Lettuce and Tomato sandwich struct it's definition would look like this:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>struct BLTSandwich {
	bread: TypeOfBread,
	lettuce: TypeOfLettuce,
	tomato: TypeOfTomato,
	bacon: TypeOfBacon,
	mayo: bool
}
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>The above example expects that TypeOfBread, TypeOfLettuce, TypeOfTomato, and TypeOfBacon are all defined earlier. They are used here to illustrate that BLTSandwich has constrained which values it's specific proeprties can have. You can not have a BLTSandwich with rocks as a value for bacon, because rocks are not a type of bacon! This is why type systems are important. They help prevent us from eating rocks... or... making mistakes in our programs. :)</p>
</blockquote>
<p>If you have keen eyes you'll recognize something here. There's a pattern that we've seen a few times before.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// a function definition
fn function_name( parameter: type ) {}

// a struct definition
struct StructName{ property: type }
<span class="boring">}</span></code></pre></pre>
<p>This pattern can be abstracted to the following:</p>
<ul>
<li>Rust keyword to define context/subject (<code>fn</code>, <code>struct</code>)</li>
<li>A name to be able to use the noun(<code>function_name</code>, <code>StructName</code>)</li>
<li>Some form of encapsulation with configuration</li>
</ul>
<h5 id="make-a-new-thing-from-an-idea-a-concretion"><a class="header" href="#make-a-new-thing-from-an-idea-a-concretion">Make a new thing from an idea (a concretion)</a></h5>
<p>A struct or structure is like an idea. And ideas aren't real in a sense that we can't hold them. We have an idea of what a BLT Sandwich is, but we can't eat the idea. But we have written specification for what the BLT is in the definition of our struct.</p>
<p>If we were to take <strong>the idea of a  BLT sandwich</strong> and <em>make</em> <strong>A BLT sandwich</strong> we would say that we were making a concretion. A thing that is concrete or real. In object oriented programming (OOP) we would say that we are instantiating the idea (in oop ideas are classes). We are creating an instance of it. </p>
<p>The syntax to create a struct includes writing the stuct's name, followed by curly braces, and a list of the property names and their values. </p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>// Assuming that the values for these 
// properties were already defined in scope
// with statements like
// let canadian_rye = get_the_best_sandwich_bread();
BLTSandwich{  
	bread: canadian_rye,
	lettuce: romaine,
	tomato: black_krim,
	bacon: farm_smoked_apple_bacon,
}
<span class="boring">}</span></code></pre></pre>
<p>Most library (crate) authors write functions associated with a struct (with the idea of it) to make a concretion. It's convention for this function to be called 'new'. Calling the function follows this syntax:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>	let my_thing = SomeStruct::new();
<span class="boring">}</span></code></pre></pre>
<h5 id="functionality-associated-with-the-idea-static-methods"><a class="header" href="#functionality-associated-with-the-idea-static-methods">Functionality associated with the idea (static methods)</a></h5>
<p>Structs can have functionality associated with the name of the struct. Some would described as functions that are namespaced, meaning that they are prefixed to or expected to be understood in the context of the name (being the struct's name).</p>
<p>The following showcases a <code>new</code> function in the <code>BLTSandwich</code> namespace which returns a new <code>BLTSandwich</code> (a concretion).</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>impl BLTSandwich {
	pub fn new() -&gt; BLTSandwich {
		BLTSandwich{  
			bread: canadian_rye,
			lettuce: romaine,
			tomato: black_krim,
			bacon: farm_smoked_apple_bacon
		}
	}
	pub fn name() -&gt; String {
		&quot;Bacon, Lettuce and Tomato Sandwich&quot;.to_string()
	}
}
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>Normally there would be parameters in the new function to accept arguments to configure the new thing being created. I skipped on that for the sake of simplicity. </p>
</blockquote>
<p>We can see here that we also have a name function which returns a long form name of the sandwich as a string.</p>
<p>We could call this by writing:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let the_sandwich_name : String = BLTSandwich::name();
<span class="boring">}</span></code></pre></pre>
<p>Again, we can see that these are functions associated with the idea and separated by two colons. </p>
<p>But again, look closely! A pattern emerges! We previously used a function called <code>leptos::log!</code>. But leptos isn't a struct, it's a crate! </p>
<p>Rust uses the same pattern of double colons to say, &quot;We're setting the context to qualify which thing we're talking about&quot;. When we say BLTSandwich::name, we're telling Rust &quot;Ok, think about BLTSandwich things... when I say name, you know what I'm talking about.&quot;</p>
<p>The Rust language designers have done a superb job at making these things easy to remember <em>if</em> you're aware that there is a pattern and design behind the decision. I can only assume that these design decisions were very deliberate.</p>
<h5 id="functionality-associated-with-the-a-concretion-methods"><a class="header" href="#functionality-associated-with-the-a-concretion-methods">Functionality associated with the a concretion (methods)</a></h5>
<p>We can associate functionality with a specific concretion (a struct made real) which we often call methods. </p>
<p>If we had a mthod called <code>calories</code> we could call with the following Rust code:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let sandwich = BLTSandwich::new();
let calories = sandwich.calories();
<span class="boring">}</span></code></pre></pre>
<p>Here we make a sandwich and call calories on it.</p>
<p>The context here is so tightly coupled that we use a single dot as a separator. I like to think of it as this.</p>
<ol>
<li>4 dots — A namespace is a grouping of many things, so we use many dots.</li>
<li>1 dot — A value is a single thing, so we use one dot.</li>
</ol>
<p>The neat thing about the above is that if you didn't need to use sandwich you can chain these all together:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let calories = BLTSandwich::new().total_calories();
			   ^----------------^
				This will evaluate into a 'sandwich'
				which we can call total_calories() on.
<span class="boring">}</span></code></pre></pre>
<p>Methods always have a special &amp;self parameter as the first argument to denote that they're able to make reference to itself. This is how a function has the ability to do anything with it's own data. Recall that we can not use a piece of data unless it is in scope.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span>
<span class="boring">fn main() {
</span>// Imagine that there is some function called calories, 
// which accepts things that can be turned into a calories
// value which is a 32 bit integer. Don't worry about how this
// would work. This is just a simple example.

impl BLTSandwich {
	// imagine the other static methods or namespace 
	// function from before were still here.

	pub fn total_calories(&amp;self) -&gt; i32 {
		calories(self.bread) + 
		calories(self.lettuce) + 
		calories(self.tomato) + 
		calories(self.bacon)
		// Recall that this function will evaluate to the 
		// last statement in its body. That's why there's no
		// semicolon at the end of this last item.
	}
	pub fn name() -&gt; String {
		&quot;Bacon, Lettuce and Tomato Sandwich&quot;.to_string()
	}
}
<span class="boring">}</span></code></pre></pre>
<p>Note that we're able to use the value of the struct's properties with <code>.bread</code>.
If we look at the function <code>total_calories</code> it starts to look really similar to <code>.bread</code>. with the exception of us adding parenthesis at the end to call the fucntion. Yet another pattern emerges, methods on a value are properties on the value that you can call!</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>let sandwich = BLTSandwich::new();
sandwich.bread;
sandwich.total_calories; //&lt;- but then we add () to call it
<span class="boring">}</span></code></pre></pre>
<h4 id="using-web_syscustomevent"><a class="header" href="#using-web_syscustomevent">Using web_sys::CustomEvent</a></h4>
<p>We're well positioned to use the web_sys crate's CustomEvent struct.</p>
<p>If we zip over to the documentation we can see that there is a new method on the struct <a href="https://docs.rs/web-sys/latest/web_sys/struct.CustomEvent.html#">Docs</a>:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>web_sys::CustomEvent::new(&quot;my-custom-event&quot;);
<span class="boring">}</span></code></pre></pre>
<p>But there's a notice under the definition of the <code>new</code> method that states the following: </p>
<blockquote>
<p><em>This API requires the following crate features to be activated: <code>CustomEvent</code></em></p>
</blockquote>
<p>I did a quick search for &quot;web_sys enable feature&quot; which lead me to this support doc <a href="https://rustwasm.github.io/wasm-bindgen/web-sys/using-web-sys.html#enable-the-cargo-features-for-the-apis-youre-using">Enable the cargo features for the APIs you're using</a>.</p>
<p>Leptos includes these web_sys features for you as part of its library.</p>
<p>If we go back to the <code>new</code> method's definition in the web_sys::CustomEvent docs we'll see the following definition:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>pub fn new(type_: &amp;str) -&gt; Result&lt;CustomEvent, JsValue&gt;
<span class="boring">}</span></code></pre></pre>
<p>Notice that it returns <code>after the -&gt;</code> a Result type, which has some type arguments (generics). The first one refers to what we get if new is run and the result is Ok, the second is the result that we get if new runs and the result is an Error. We can handle these with some in build pattern matching which we'll go into more later.</p>
<p>Our component code now looks like this:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[component]  
fn MyComponent(cx: Scope) -&gt; Element {  
    let trigger_sending_of_custom_event = |_|{  
        match web_sys::CustomEvent::new(&quot;my-custom-event&quot;) {  
            Ok(event) =&gt; {  
                // We have an event that we can send  
            },  
            Err(_) =&gt; {  
                // There as an error in creating the event  
                // We're not doing anything with this for now
				// so we'll use an '_' to destructure it's error
				// message            
			}  
        }  
    };  
    view!{  
        cx,  
        &lt;div&gt;  
            &lt;button on:click=trigger_sending_of_custom_event&gt;  
                &quot;Trigger custom event&quot;  
            &lt;/button&gt;  
        &lt;/div&gt;  
    }  
}
<span class="boring">}</span></code></pre></pre>
<p>The <code>match</code> keyword requires that we create branches/arms for each possible option. Recall that we talked about types as restrictions that describe possible values. A result is an enumeration (a list of possible values or strict set of options) which can be one of two values. It can be Ok or Err. The options are called variants. </p>
<p>In both of those cases there is a value that we can destructure out of the variants. Their types are listed as the the first and second type arguments in the returned type's signature. <code>Result&lt;CustomEvent, JsValue&gt;</code> means that we'll have an <code>Ok( CustomEvent )</code> or an <code>Err(JsValue)</code>.</p>
<p>I know from the JavaScript custom event documentation that it's not enough to create the event. We need to emit it. This is called <code>dispatching</code>. The javascript looks like this.</p>
<pre><code class="language-javascript">elem.dispatchEvent(event);
</code></pre>
<p>What we need is some way to refer to our <code>&lt;MyComponent /&gt;</code> so that we can dispatch the event on it. We need a reference to it.</p>
<h3 id="getting-a-reference-to-self-as-a-dom-node-with-noderef"><a class="header" href="#getting-a-reference-to-self-as-a-dom-node-with-noderef">Getting a reference to self as a DOM node with NodeRef</a></h3>
<p>Leptos provides us with the ability to get a reference to the DOM node created by its <code>view!</code> template. Think of it like a direct line to its DOM counterpoint.</p>
<p>The first step is to create the nodeRef, and add it as a special <code>_ref</code> property to the parent/root element in the <code>view!</code> template. Recall that the Leptos component is proxy for the <code>view!</code> template's root element. Putting the reference on this div is the same as putting the reference on <code>&lt;MyComponent /&gt;</code>.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[component]  
fn MyComponent(cx: Scope) -&gt; Element {  
    let dom_node_ref = NodeRef::new(cx);
    // abbreviated/folded Rust code here for space saving
    view!{  
	    cx,  
	    &lt;div _ref=dom_node_ref&gt;  
	        &lt;button on:click=trigger_sending_of_custom_event&gt;  
	            &quot;Trigger custom event&quot;  
	        &lt;/button&gt;  
	    &lt;/div&gt;  
	}
}
<span class="boring">}</span></code></pre></pre>
<p>The dom_node_ref uses signals under the hood so we can move it into our handler closure without stressing about move semantics. We'll add the move keyword to the closure  and we'll add some more matching if we are able to make our custom event.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>match dom_node_ref.get() {  
	None =&gt; {  
		// None will only happen if this component isn't  
		// mounted to the DOM, but it has to be in order                   
		// for the click event to fire, so we can ignore this                    
	}  
	Some(dom_element) =&gt; {  
		// Emit/dispatch our custom event  
	}  
}  
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>We call 'get' on the dom_node_ref to get the actual DOM element in Rust form. There are cases when the DOM element/node might not exist. Rust requires us to account for all possibilities, which is why the get method returns a option type. It's return type definition is <code>Option&lt;web_sys::Element&gt;</code>. Option is an enum which can be <code>None</code> or <code>Some</code> with the type argument provided in it's signature. In this case it's of the <code>web_sys::Element</code> type. We're destructing it and giving it the label <code>dom_element</code></p>
</blockquote>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[component]  
fn MyComponent(cx: Scope) -&gt; Element {  
    let dom_node_ref = NodeRef::new(cx);  
  
    let trigger_sending_of_custom_event = move |_|{  
        match web_sys::CustomEvent::new(&quot;my-custom-event&quot;) {  
            Ok(event) =&gt; {  
                match dom_node_ref.get() {  
                    None =&gt; {  
                        // None will only happen if this component isn't  
		                // mounted to the DOM, but it has to be in order                   
			            // for the click event to fire, so we can ignore this                    
		            }  
                    Some(dom_element) =&gt; {  
                        // Emit/dispatch our custom event  
                    }  
                }  
            },  
            Err(_) =&gt; {}  
        }  
    };  
    view!{  
        cx,  
        &lt;div _ref=dom_node_ref&gt;  
            &lt;button on:click=trigger_sending_of_custom_event&gt;  
                &quot;Trigger custom event&quot;  
            &lt;/button&gt;  
        &lt;/div&gt;  
    }  
}
<span class="boring">}</span></code></pre></pre>
<p>Intuitively, we'll probably want to try something like this for the actual event sending. This is a focused view of the happy path match arm:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>match dom_node_ref.get() {  
    None =&gt; {}  
    Some(dom_element) =&gt; {  
        dom_element.dispatch_event(event);  
    }  
}
<span class="boring">}</span></code></pre></pre>
<p>Unfortuantely this doesn't work. Rust tells us that dispatch_event is expecting a <code>&amp;event</code>, a reference to an event. Let's add an ampersand before event to send a reference.</p>
<p>Rust's compiler may complain about unhandled results from the event dispatch. We can add another match statement to handle those.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>match dom_element.dispatch_event(&amp;event) {  
    Ok(_) =&gt; { 
	    leptos::log!(&quot;Custom event sent&quot;) 
	},  
    Err(_) =&gt; { 
	    leptos::log!(&quot;Failed to send&quot;) 
	}  
}
<span class="boring">}</span></code></pre></pre>
<p>We can now listen to our custom event from our Leptos component:</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span><span class="boring">fn main() {
</span>#[component]  
fn RadApp(cx: Scope) -&gt; Element {  
    let log_response = |_| {  
        leptos::log!(&quot;Our custom event happened&quot;)  
    };  
    view! {  
        cx,  
        &lt;MyComponent on:myCustomEvent=log_response/&gt;  
    }  
}
<span class="boring">}</span></code></pre></pre>
<blockquote>
<p>Note that event names are camelCased</p>
</blockquote>
<p>We're still not totally there yet though. We need to actually tell this new custom event to bubble.</p>
<pre><pre class="playground"><code class="language-rust"><span class="boring">#![allow(unused)]
</span>
<span class="boring">fn main() {
</span>//We need to create a config that is mutable (so we add 'mut' after let)
let mut event_config = web_sys::CustomEventInit::new();  

// We set the bubble property to true
event_config.bubbles(true);  

// We create a new event with the special config using a different constructor method

let event = web_sys::CustomEvent::new_with_event_init_dict(
	&quot;myCustomEvent&quot;, 
	&amp;event_config
);

// was previous
// let event = web_sys::CustomEvent::new(&quot;myCustomEvent&quot;); 
<span class="boring">}</span></code></pre></pre>
<p>And just like that we have custom events on components with references! </p>
<h4 id="the-complete-code"><a class="header" href="#the-complete-code">The Complete Code</a></h4>
<pre><pre class="playground"><code class="language-rust">use leptos::*;  
  
fn main() {  
    mount_to_body(|cx| {  
        view! {  
            cx,  
            &lt;RadApp /&gt;  
        }  
    })  
}  
  
#[component]  
fn RadApp(cx: Scope) -&gt; Element {  
    let log_response = |_| {  
        leptos::log!(&quot;Our custom event happened&quot;)  
    };  
    view! {  
        cx,  
        &lt;MyComponent on:myCustomEvent=log_response /&gt;  
    }  
}  
  
#[component]  
fn MyComponent(cx: Scope) -&gt; Element {  
    let dom_node_ref = NodeRef::new(cx);  
  
    let trigger_sending_of_custom_event = move |_| {  
  
        let mut event_config = web_sys::CustomEventInit::new();  
        event_config.bubbles(true);  
        let event = web_sys::CustomEvent::new_with_event_init_dict(&quot;myCustomEvent&quot;, &amp;event_config);  
  
        match event {  
             Ok(event) =&gt; {  
                 match dom_node_ref.get() {  
                    None =&gt; {}  
                    Some(dom_element) =&gt; {  
                        match dom_element.dispatch_event(&amp;event) {  
                            Ok(_) =&gt; { leptos::log!(&quot;Custom event sent&quot;) },  
                            Err(_) =&gt; { leptos::log!(&quot;Failed to send&quot;) }  
                        }  
                    }  
                }  
            }  
            Err(_) =&gt; {}  
        }  
    };  
    view! {  
        cx,  
        &lt;div _ref=dom_node_ref&gt;  
            &lt;button on:click=trigger_sending_of_custom_event&gt;  
                &quot;Trigger custom event&quot;  
            &lt;/button&gt;  
        &lt;/div&gt;  
    }  
}</code></pre></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../client/responding/event_bubbling_and_signal_generics.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../client/responding/custom_event_data.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../client/responding/event_bubbling_and_signal_generics.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../client/responding/custom_event_data.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
